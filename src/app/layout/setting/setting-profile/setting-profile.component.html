<h3>edit profil saya</h3>

<div class="banner-container">
  <div class="banner" #userBanner
       style="background-image: url('https://nos3.arkjp.net/?url=https%3A%2F%2Fstorage.googleapis.com%2Fyysk.icu%2Faccounts%2Fheaders%2F000%2F000%2F001%2Foriginal%2Fdc4961291058cb6f.jpg'); background-position: center calc(50%);">
    <a class="avatar" title="keong"
       style="color: rgb(241, 242, 242);">
      <ng-container *ngIf="user?.avatar_url; else templateNoAvatar">
        <img class="inner"
             [src]="user?.avatar_url"
             decoding="async">
      </ng-container>

      <ng-template #templateNoAvatar>
        <div class="no-avatar">{{ (user && user.username) ? user.username[0] : 'p' }}</div>
      </ng-template>
    </a>
  </div>
</div>
<div class="banner-links">
  <a>
    <label for="file-photo-profile">ganti foto profil</label>
    <input type="file"
           id="file-photo-profile"
           accept="image/png, image/jpeg"
           [multiple]="false"
           (change)="uploadPhotoProfile($event)">
  </a>
  <a href="#">ganti foto banner</a>
</div>

<form class="setting-form" [formGroup]="form" autocomplete="false">
  <fieldset [disabled]="loading.save.name_">
    <label for="name">
      nama
      <small class="text-danger">
        <ng-container *ngIf="form.controls['name_']?.dirty && form.controls['name_'].invalid">
          * panjang nama max 50 huruf!
        </ng-container>
        <ng-container *ngIf="error.save.name_">
          * {{ error.save.name_ }}
        </ng-container>
      </small>
    </label>
    <input type="text" placeholder="" id="name" name="name" formControlName="name_" autocomplete="false">
    <ng-container *ngIf="form.controls['name_'].dirty && form.controls['name_'].valid">
      <button class="button button-outline" (click)="updateProfile('name_')" [disabled]="loading.save.name_">
        <ng-container *ngIf="!loading.save.name_; else templateLoading">
          simpan
        </ng-container>
      </button>
    </ng-container>
  </fieldset>
</form>

<form class="setting-form" [formGroup]="form" autocomplete="false">
  <fieldset [disabled]="loading.save.bio">
    <label for="bio">
      bio
      <small class="text-danger">
        <ng-container *ngIf="form.controls['bio']?.dirty && form.controls['bio'].invalid">
          * panjang nama max 300 huruf!
        </ng-container>
        <ng-container *ngIf="error.save.bio">
          * {{ error.save.bio }}
        </ng-container>
      </small>
    </label>
    <div class="textarea- bio">
      <textarea name="bio" id="bio" formControlName="bio"></textarea>
    </div>
    <ng-container *ngIf="form.controls['bio'].dirty && form.controls['bio'].valid">
      <button class="button button-outline" (click)="updateProfile('bio')" [disabled]="loading.save.bio">
        <ng-container *ngIf="!loading.save.bio; else templateLoading">
          simpan
        </ng-container>
      </button>
    </ng-container>
  </fieldset>
</form>


<ng-template #templateLoading>
  <div class="lds-ellipsis">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</ng-template>
